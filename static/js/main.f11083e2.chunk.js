(this["webpackJsonpcovid-geo-charts"]=this["webpackJsonpcovid-geo-charts"]||[]).push([[0],{15:function(e,t,a){e.exports={chart:"Chart_chart__2ay2D",scroll:"Chart_scroll__hDKTO"}},17:function(e,t,a){e.exports={search:"Search_search__3OUtB"}},19:function(e,t,a){e.exports={map:"Map_map__2bGnQ"}},25:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),o=(a(25),a(2)),u=a(14),i=a.n(u),l=a(16),b=a(5),j=a(17),d=a.n(j),O=a(1),p=function(e){var t=e.query,a=e.onChange;return Object(O.jsx)("div",{className:d.a.search,children:Object(O.jsx)("input",{value:t,onChange:function(e){return a(e.target.value)},placeholder:"Search country"})})},h=a(20),f=a(15),m=a.n(f),x=r.a.memo((function(e){var t=e.data,a=Object(n.useRef)();return Object(n.useEffect)((function(){var e=new h.a(a.current,{type:"bar",data:{labels:t.map((function(e){return e.key})),datasets:[{label:"Confirmed cases",data:t.map((function(e){return e.confirmed})),borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1}});return function(){return e.destroy()}}),[t]),Object(O.jsx)("div",{className:m.a.chart,children:Object(O.jsx)("div",{className:m.a.scroll,style:{width:(null===t||void 0===t?void 0:t.length)>10?40*t.length+"px":"auto"},children:Object(O.jsx)("canvas",{ref:a})})})})),g=a(32),v=a(34),y=a(35),_=a(33),k=(a(28),a(19)),C=a.n(k),S=r.a.memo((function(e){var t=e.data;return Object(O.jsxs)(g.a,{preferCanvas:!0,className:C.a.map,zoom:2,minZoom:2,center:[0,0],maxBounds:[[-90,-180],[90,180]],children:[Object(O.jsx)(v.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map((function(e){return Object(O.jsx)(y.a,{radius:2,pathOptions:{color:"red"},center:[e.lat,e.long],children:Object(O.jsxs)(_.a,{direction:"top",permanent:!0,children:[Object(O.jsx)("span",{children:e.key}),Object(O.jsx)("br",{}),"cases: ",e.confirmed]})},e.key)}))]})})),w=function(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(null),s=Object(b.a)(c,2),u=s[0],j=s[1],d=Object(n.useState)(""),h=Object(b.a)(d,2),f=h[0],m=h[1],g=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid-api.mmediagroup.fr/v1/cases");case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,r(t);case 7:case"end":return e.stop()}}),e)}))),[]);Object(n.useEffect)(g,[g]),Object(n.useEffect)((function(){j(a&&f in a?Object.entries(a[f]).reduce((function(e,t){var a=Object(b.a)(t,2),n=a[0],r=a[1];return"All"===n&&r.lat&&r.long?e.concat(Object(o.a)(Object(o.a)({},r),{},{key:f})):r.lat&&r.long?e.concat(Object(o.a)(Object(o.a)({},r),{},{key:n})):e}),[]):null)}),[a,f]);var v=Object(n.useMemo)((function(){return a?Object.entries(a).reduce((function(e,t){var a=Object(b.a)(t,2),n=a[0],r=a[1];return r.All.lat&&r.All.long?e.concat(Object(o.a)(Object(o.a)({},r.All),{},{key:n})):e}),[]):[]}),[a]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p,{query:f,onChange:m}),Object(O.jsx)(x,{data:u||v}),Object(O.jsx)(S,{data:u||v})]})};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.f11083e2.chunk.js.map